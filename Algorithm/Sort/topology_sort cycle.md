# 위상정렬 사이클

이것이 코딩테스트다 교재에 위상정렬이 소개 됐는데, 이를 학습하기 위해 [저자의 블로그](https://m.blog.naver.com/ndb796/221236874984) 에서 위상 정렬 내용을 보던 중 의문이 생겼다. 모든 노드를 방문하기 전에 큐가 비어있으면 사이클이 발생했다는 게 이해가 잘 되지 않았다. 그러던 중 [이분](https://spongeb0b.tistory.com/215)의 글을 보고 이해할 수 있었다. 이 글을 보고 나서 직접 그림으로 그려보니 이해하는데 도움이 많이 됐다.

큐를 이용해 위상정렬을 구현할 때 진입차수가 0인 정점을 큐에 넣게 된다. 해당 정점을 기준으로 연결된 정점의 진입 차수를 1 감소시키고 이때 진입 차수가 0이 되면 큐에 넣어주는데 사이클이 생긴 정점은 진입 차수가 0이 될 수 없어서 큐에 들어갈 수 없다.

사이클에 포함된 정점은 진입차수가 0이 된 정점 뿐만 아니라 사이클을 구성하는 정점에 의해서 자신의 진입 차수가 최소 2인 상황이다. 진입차수가 0이 된 정점에 의해 자신의 진입 차수가 감소하더라도 사이클을 구성하는 정점에 의해서 최소 1 이상의 진입차수를 유지하게 돼서 큐에 들어갈 수 없다. 모든 정점을 탐색하지 않았음에도 큐가 비게 되고 이는 사이클이 생겼음을 의미한다.

<br>

<참고>

이것이 코딩테스트다

https://m.blog.naver.com/ndb796/221236874984

https://spongeb0b.tistory.com/215