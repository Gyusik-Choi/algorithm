# 이것이 코딩테스트다

## 챕터 11 4번 만들 수 없는 금액

### 조합 방식 풀이

그리디를 활용하는 문제인데 어떻게 그리디로 풀이할 수 있는지 이해하지 못한 상태다.

조합으로 답은 구했으나 동전 갯수가 조금만 커지면 바로 시간 초과가 나올 수 있는 풀이 방식이라 좋은 풀이는 아니다.

<br>

### 그리디 방식 풀이

이해하기 어려웠던 부분은 min_coin - 1 값은 모두 만들 수 있는지를 어떻게 아는지다.

```
5
1 2 2 3 9
```

입력이 이렇게 주어졌다면 초기값 1을 기준으로 하나씩 더해가면

<br>

```
2 4 6 9 18
```

이런 값이 나온다. 이때 정답은 18이 된다. for 문의 차례가 9원이 되었을때 min_coin은 9이며 9원은 9와 같아서 만들 수 있는 금액으로 판단한다. 그러면 9에 9원을 더해줘서 18이 되고 for 문을 모두 돌아서 18이 출력된다.

<br>

17원까지 모든 금액을 만들 수 있다는 건데 어떻게 이를 알 수 있는지를 이해하기 어려웠는데 직접 경우의 수를 따져보니 이해를 하는데 도움이 됐다.

1 - 1

2 - 2 

3 - 1 + 2

4 - 2 + 2

5 - 1 + 2 + 2

6 - 1 + 2 + 3

7 - 2 + 2 + 3

8 - 1 + 2 + 2 + 3

9 - 9

10 - 1 + 9

11 - 2 + 9

12 - 1 + 2 + 9

13 - 2 + 2 + 9

14 - 1 + 2 + 2 + 9

15 - 1 + 2 + 3 + 9

16 - 2 + 2 + 3 + 9

17 - 1 + 2 + 2 + 3

<br>

1원에서 8원까지 만들 수 있는 경우가 있다고 할때 여기에 9원이 추가되면 1원 ~ 17원까지는 모두 만들 수 있다.

9원이 추가되면서 추가로 만들 수 있는 금액은 9원 ~ 17원이다.

<br>

하나씩 살펴보면

9원은 9원

10원은 1원 만드는 방법 + 9원

11원은 2원 만드는 방법 + 9원

~~

17원은 8원 만드는 방법 + 9원

이렇게 9원에서 17원까지 모두 만들 수 있다.

<br>

그래서 최소 금액으로 1원을 설정하고서 for 문을 하나씩 돌면서 나오는 금액이 최소 금액보다 작거나 같으면 최소 금액에 금액을 더해준다.

(이때 만들어진 금액 - 1)원 까지는 모두 만들 수 있음을 알 수 있다.

for 문을 돌면서 나오는 금액이 최소 금액보다 크면 이때의 최소 금액이 만들 수 없는 최소 금액이 되고 정답이 된다.

왜냐면 최소 금액 - 1원 까지는 모두 만들 수 있기 때문이다.

<br>

위의 예시를 조금 변형해서 살펴보면 8원까지 모두 만들 수 있다고 하면 이때 최소 금액은 9원이다.

그리고 다음 for문의 값으로 10원이 나온다고 해보자.

1원에서 8원까지는 만들 수 있는데 9원을 만들 수 있는 방법이 없다.

물론 10원에서 18원까지는 만들 수 있다. 10원은 10원 자신으로, 나머지 11원에서 18원 까지는 1원 ~ 8원 만드는 방법에 10원만 더해주면 된다.

<br>

다른 예로 처음부터 살펴보자면

```
5
1 2 3 4 5
=>
최소 금액 1
2 4 7 11 16
```

<br>

1 - 1

- 1원으로 가능 (만들 수 없는 최소 금액 2)

2 - 2

3 - 1 + 2

- 2원으로 가능 (만들 수 없는 최소 금액 4)
  - 2 자신
    - 자신으로 만드는 경우는 최소 금액과 현재 대상 금액이 같을 때
  - 1로 만들 수 있는 경우 + 2

4 - 1 + 3

5 - 2 + 3

6 - 1 + 2 + 3

- 3원으로 가능 (만들 수 없는 최소 금액 7)
  - 1, 2, 3원을 만들었던 방법에 3을 더해주면 된다

7

8

9

10

- 4원으로 가능 (만들 수 없는 최소 금액 11)
  - 3 ~ 6원 만들었던 방법에 4를 더해주면 된다

11

12

13

14

15

- 5원으로 가능 (만들 수 없는 최소 금액 17)
  - 6원 ~ 10원 만들었던 방법에 5를 더해주면 된다

<br>

그리디 문제로 분류가 됐는데 DP적인 문제로 느껴졌다.

<br>

### 세번째 풀이(그리디)

양의 정수 금액 중 만들 수 없는 최소 금액을 구하는 문제다. 초기 최소값을 1로 설정하고 입력값을 오름차순 정렬한 후에 for 문을 돌면서 하나씩 살펴봐야 한다. 최소값 보다 큰 금액이 나오면 현재 최소값이 정답이 된다. 여기서 최소값의 의미는 만들 수 없는 최소 금액이다.

```
3
3 2 5
```

<br>

입력이 위와 같이 주어졌다고 할 때, 정렬하면 2 3 5 가 된다. 초기 최소값은 1이라고 했을 때 정답은 1이 된다. 2 3 5 를 for 문을 하나씩 돌 때 2가 초기 최소값인 1보다 크다. 1을 만들 수 있는 방법이 없다. 

최소값 보다 작거나 같은 금액이면 최소값에 더해줘서 최소값을 업데이트 한다. 여기서 최소값과 같은 금액인 경우를 살펴보면

```
3
1 2 4
```

<br>

위와 같은 입력이 주어졌을 때, for 문을 하나씩 돌면 먼저 1은 초기 최소값인 1과 같다. 1은 1 자신으로 만들 수 있으므로 이제 최소값은 1에서 1을 더해서 2가 된다. 이제 2보다 큰 숫자가 나오면 2가 바로 정답이 되는데 1 다음으로 2가 나왔고 2는 2 자신으로 만들 수 있다. 최소값 2에 2를 더해서 최소값은 4가 된다. 최소값이 위에서 만들 수 없는 최소 금액이라고 했을 때, 최소값 보다 낮은 금액은 모두 만들 수 있다는 의미이기도 하다. 최소값이 4이고 2 다음으로 4가 나오는데 4는 최소값 4와 같고 4는 4 자신으로 만들 수 있다. 최소값 4에 4를 더해서 정답은 8이 된다. 

위의 입력에서 1 ~ 7은 모두 만들 수 있다. 최소값은 1, 2, 4, 8 이렇게 변화한다. 1은 입력값 1이 만족하고 최소값 2는 입력값 2가 만족한다. 최소값이 4가 되고 3은 1과 2를 더해서 만들 수 있다. 최소값 4는 입력값 4로 만들 수 있다. 이제 최소값은 4가 되는데, 앞서 최소값이 4였고 1, 2, 3을 모두 만들 수 있는데 여기에 입력값 4와 더불어 1, 2, 3에 4를 각각 더해주면 5, 6, 7이 된다. 1 ~ 7 모두 만들 수 있음이 증명된다. 

조건을 만족하는 입력값이 하나씩 증가할 때마다 기존 최소값에 입력값을 더한 값 - 1 만큼을 모두 만들 수 있게 된다.

만약에 1, 2, 3을 만들 수 있는데 여기에 4를 더하면 1, 2, 3 중의 최대값에서 4를 더한 만큼 만들 수 있다. 왜냐면 최대값 3 아래로는 모두 만들 수 있고 4를 추가로 더하면 만들 수 있는 모든 숫자에 4를 더한 값을 또 만들 수 있기 때문에 7까지 만들 수 있게 된다.

1/ 2/ 3/ 1 + 4/ 2 + 4/ 3 + 4

