# LeetCode

## [371. Sum of Two Integers](https://leetcode.com/problems/sum-of-two-integers/)

굉장히 어려운 문제였다.

+, - 연산자를 사용하지 않고 덧셈을 구현해야 한다. 이진 연산을 통해 덧셈을 해야해서 교재의 풀이를 참고해서 전가산기를 구현하여 풀이했다.

전가산기를 구현하기 위해 알아야할 기반 지식들이 많이 필요해서 이를 따로 학습해야 했다. 2의 보수 표현, 반가산기와 전가산기의 구조 등을 학습했다.

<br>

### Python

#### 첫번째 풀이

전가산기의 연산을 직접 구현해서 풀이하는 방식으로 풀이했다.

전가산기는 반가산기와 달리 하위 비트에서 발생한 캐리를 상위 비트로 가져와서 연산에 반영할 수 있다.

<br>

mask 는 비트 길이를 고정하기 위해 활용할 수 있다. 특정 숫자와 and 연산을 통해 1이 나타나는 최상위 비트가 mask 의 최상위 비트를 벗어나지 않게 한다. mask 는 모두 1 로 되어있어서 and 연산을 하면 mask 길이보다 긴 비트는 모두 0으로 나타나게 된다.

파이썬에서 이진수의 비트 범위가 아주 크다. 10진수 8을 2진수로 나타내면 0b1000 으로 나오는데 실제로는 0b 와 1000 사이에 아주 많은 0이 생략됐다. 

음수의 경우 2의 보수법을 이용해서 나타내기 때문에 -1의 경우 모든 비트가 1로 되어 있다. 이를 화면에 나타내려면 아주 많은 공간이 필요한데 이를 간단히 표현하기 위해 -0b1 로 나타낸다. 이 문제에서도 음수의 비트 길이를 짧게 나타내기 위해 mask 변수를 활용한다.

<br>

이 문제의 입력 범위는 -1000에서 1000사이다. 2진수로는 12비트로 모두 표현 가능하다. 

최상위 비트를 부호 비트로 나타내고 나머지 11비트로 표현할 수 있는 수의 범위는 -2048에서 2047 사이다. 12비트로 문제의 입력 숫자를 모두 나타낼 수 있어서 교재와 달리 mask 는 0xFFF 다. mask 의 F 는 16진수의 F 로서 F 는 10진수로는 15이고 2진수로는 1111로 4비트로 나타낼 수 있다. F가 3개 있기 때문에 2진수로는 12비트의 1이다.

<br>

코드와 관련된 보다 자세한 내용은 주석으로 작성했다.

<br>

### Java

#### SumOfTwoIntegers371

교재의 풀이를 참고했다. 전가산기에서 사용되는 XOR, AND, OR 연산을 직접 구현한다.

전가산기는 XOR, AND 연산으로 구성된 반가산기 2개와 OR 게이트로 구성된다. 전가산기는 입력 값 2개와 캐리를 갖고 합과 캐리를 구한다. XOR 연산의 결과를 캐리와 XOR 연산해서 합을 구하고, AND 연산의 결과와 XOR 연산의 결과를 캐리와 AND 연산한 결과를 OR 연산해서 캐리를 구한다.

<br>

#### SumOfTwoIntegers371_2

교재의 풀이를 참고했다. 아직 제대로 이해하지 못했다.

SumOfTwoIntegers371 의 풀이보다 간략하게 풀이한다.

자리합과 캐리를 구하는데 캐리의 자리수를 올려가면서 캐리가 0이 될 때까지 반복한다. 

교재의 풀이대로 직접 연산을 해보면 캐리가 0이 될때 연산이 종료되는데 왜 캐리가 0이 될때 연산이 종료되는지 아직 이해하지 못했다.

<br>

#### SumOfTwoIntegers371_3

SumOfTwoIntegers371 와 동일한 방식으로 풀이했다. 대신 합을 구하는 부분은 List 대신 StringBuilder 를 사용해서 보다 간결하게 작성했다.

<br>

<참고>

파이썬 알고리즘 인터뷰

https://electbros.com/half-adder-full-adder/

https://lifelectronics.tistory.com/69

https://m.blog.naver.com/limsy0310/221969701897

자바 알고리즘 인터뷰

https://namu.wiki/w/%EA%B0%80%EC%82%B0%EA%B8%B0

https://happy-matricaria.tistory.com/17

https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Character.html#getNumericValue(char)

